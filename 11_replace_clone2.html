<!DOCTYPE HTML>
<html>

<head>
  <title>读取并修改元素的内容</title>
  <meta charset="utf-8" />
  <style>
    select {
      width: 120px;
      height: 160px
    }
  </style>
</head>

<body>
  <select id="unsel" size="10" multiple>
    <option value="Arg">Argentina</option>
    <option value="Bra">Brazil</option>
    <option value="Can">Canada</option>
    <option value="Chi">China</option>
    <option value="Cub">Cuba</option>
    <option value="Den">Denmark</option>
    <option value="Egy">Egypt</option>
    <option value="Fra">France</option>
    <option value="Gre">Greece</option>
    <option value="Spa">Spain</option>
  </select>
  <select id="sel" size="10">
  </select>
  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script>
    // $("option").dblclick(function () {
    //   var val = $(this);
    //  if($(this).parent().is($("#unsel"))){
    //   console.log($(this).val() + "0");
    //   var flag = true;
    //   // console.log("ok");
    //   $("#sel").children().each(function () {
    //     console.log($(this).val() + "1");

    //     if ($(this).val() == val.val()) { ////***当前this 不是  val 
    //       flag = false;
    //     }
    //   })
    //   if (flag) {
    //     $("#sel").append(`<option value=${$(this).val()}>
    //        ${$(this).text()}</option>`)
    //     console.log($(this).val() + "2");
    //   }
    //   console.log("----------------");
    //  }else{
    //    val.remove();
    //  }
    // })





    //    //-----组长版

    //  $("#unsel").children().click(function(){
    //   var t=$(this)
    //    var isExist=false;
    //    $("#sel").children().each(function(){
    //      if($(this).attr("value")==t.attr("value")){
    //        isExist=true;
    //       //  console.log($(this).attr("value")); 
    //       //this 指向当前的function对象！！！
    //      };
    //    })
    //    if(!isExist){
    //      $("#sel").append(`
    //      <option value="${$(this).attr("value")}">${$(this).text()}</option>
    //      `);

    //    }
    //  })

    ///--------教师版
    $("option").dblclick(function(){
      if($(this).parent().is("#unsel")){
        var value=$(this).val();
      if($("#sel").is(`:not(:has([value=${value}]))`)){
        $(this).clone(true).appendTo("#sel");
      }
      }else{
        $(this).remove();
      }
     
    })
  </script>
</body>

</html>